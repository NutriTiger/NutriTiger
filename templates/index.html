<!DOCTYPE html>

<html id="animated-canvas" lang="en">
   <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <title>Login to NutriTiger</title>
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

      <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">

      <style>
         html {
            width: 100%;
            height: 100%;
            overflow: hidden;
         }
      </style>
   </head>

   <body class="text-center">
      <div>
         <div style="margin-top: 7%;">
            <!--<img src="logo.jpg" alt="NutriTiger Logo">-->
            <h1 style="font-weight: 700;">NutriTiger</h1> 
         </div>

         <center>
            <hr style="border: 3px solid black; width: 50%; margin-top: 3%;"/>
         </center>

         <h3 style="margin-top: 3%;">Your go-to for easy access to nutritional information for Princeton's dining halls.</h4>
         <h5>Streamline your health journey with simple tracking and informed choices.</h6>
         <button id="loginButton" style="margin-top: 13%;" class="btn btn-primary btn-lg btn-block" onclick="validateLogin()">
               Login with NetID
         </button>
      </div>
   </body>

   <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
   <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.waves.min.js"></script>
   <script>
      VANTA.WAVES({
        el: "#animated-canvas",
        mouseControls: true,
        touchControls: true,
        gyroControls: false,
        minHeight: 200.00,
        minWidth: 200.00,
        scale: 1.00,
        scaleMobile: 1.00,
        shininess: 2.00,
        waveHeight: 14.50,
        waveSpeed: 0.95,
        zoom: 1,
        color: 0xc99c6e
      })
      </script>
      <script>
         function validateLogin() {
            var loginButton = document.getElementById("loginButton")

            // Disable the button but have it process the login
            loginButton.style.pointerEvents = "none"
            loginButton.textContent = "Redirecting..."
            loginButton.style.opacity = "var(--bs-btn-disabled-opacity)"

            window.location.href = '/welcome';
         }

         // If the user hits the back button reset the form
         window.onunload = function() {
            var loginButton = document.getElementById("loginButton")

            loginButton.style.pointerEvents = "auto"
            loginButton.textContent = "Login with NetID"
            loginButton.style.opacity = "none"
         }
      </script>
</html>
