{% extends "layout.html" %}
{% set current_page = 'personalfood' %}
{% block title %}Add Personal Recipe{% endblock %}
{% block content %}
{% with messages = get_flashed_messages() %}
{% if messages %}
  {% for message in messages %}
    <div class="alert alert-warning">{{ message }}</div>
  {% endfor %}
{% endif %}
{% endwith %}
    <h1 class="text-center m-3">Add Personal Recipe</h1> 
    <div class="container">
        <form action="/addpersonalfood" method="post" enctype="multipart/form-data">
            <div class="col-12">
                <div class="form-group">
                    <label for="inputImage" class="form-label">Upload Image</label>
                    <input type="file" class="form-control" id="inputImage" name="image" accept="image/png, image/jpeg, image/heic">
                </div>
                {% if name != "i.e. overnight oats" %}
                    <div class="form-group">
                        <label for="inputRecipeName">Recipe Name</label>
                        <input type="text" class="form-control" id="inputRecipeName" name = "name" aria-describedby="nameHelp" value="{{name}}" required>
                        <small id="nameHelp" class="form-text text-muted">We will not share this with other users</small>
                    </div>
                {% endif %}

                {% if name == "i.e. overnight oats" %}
                    <div class="form-group">
                        <label for="inputRecipeName">Recipe Name</label>
                        <input type="text" class="form-control" id="inputRecipeName" name = "name" aria-describedby="nameHelp" placeholder="{{name}}" required>
                        <small id="nameHelp" class="form-text text-muted">We will not share this with other users</small>
                    </div>
                {% endif %}

                <div class="form-group">
                <label for="inputCalories">Calories</label>
                <input type="number" min="0" class="form-control" id="inputCalories" name = "calories" value={{calories}}>
                </div>
                <div class="form-group">
                    <label for="inputProtein">Protein (g)</label>
                    <input type="number" min="0" class="form-control" id="inputProtein" name = "proteins" value={{proteins}}>
                </div>
                <div class="form-group">
                    <label for="inputCarbs">Carbohydrates (g)</label>
                    <input type="number" min="0" class="form-control" id="inputCarbs" name = "carbs" value={{carbs}}>
                </div>
                <div class="form-group">
                    <label for="inputFats">Fats (g)</label>
                    <input type="number" min="0"class="form-control" id="inputFats" name = "fats" value={{fats}}>
                </div>
                <div class="form-group">
                    <label for="inputDesc">Description</label>
                    <input type="text" class="form-control" id="inputDesc" name = "description" value={{desc}}>
                </div>
                <br>
                <button type="submit" class="btn btn-primary">Submit</button>
            </div>
        </form>
    </div>
{% endblock %}
