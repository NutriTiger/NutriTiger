{% extends "layout.html" %}
{% set current_page = 'firstcontact' %}
{% block title %}Nutrition Goals{% endblock %}
{% block content %}
    <div class="row p-5">
        <div class="'col-sm-9">
            <div class="card">
                <div class="card-body text-center">
                  
                    <div class="container-fluid mx-auto p-5">
                        <h1 class="m-5">Nutrition Goals</h1> 
                        <h3 class="m-3 p-4">Welcome to NutriTiger! Please fill out your daily calorie goal.</h3>

                        {% include 'caloriecalculator.html' %}
                
                        <div class="text-center p-4">
                            <div class="row">
                                <h4>Calorie Goal:</h4>
                                <form action="/settings" method="post">
                                    <input type="number" class="form-control form-calgoal container" name='line' placeholder="Enter the number here." min="0" required
                                    onkeypress="return isValid(event)">
                                    <div class="p-3">
                                        <button class="btn btn-primary btn-lg btn-block" type="submit">Save</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                </div>
                
              </div>
        </div>
    </div>
{% endblock %}
{% block script %}
<script>

    // Validate the serving inputs
    function isValid(input) {
        var charCode = input.which || input.keyCode;
        var value = input.target.value;

        // If the pressed key is a '-'
        if (input.charCode === 45)
            return false;

        // If the key contains nonvalid chars 
        if ((input.charCode < 48 || input.charCode > 57) && input.charCode !== 46)
            return false;

        // Allow only 2 decimal places
        if (value.indexOf('.') !== -1 && value.length - value.indexOf('.') > 2)
            return false;

        return true;
    }
</script>
{% endblock %}